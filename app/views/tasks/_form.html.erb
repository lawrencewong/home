<%= form_with model: task do |f| %>
  <% if task.errors.any? %>
    <article class="alert">
      <ul>
        <% task.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </article>
  <% end %>

  <label>
    Title
    <%= f.text_field :title, required: true, autofocus: true %>
  </label>

  <label>
    Status
    <%= f.select :status, Task.statuses.keys.map { |s| [s.titleize, s] } %>
  </label>

  <label>
    Assigned To
    <%= f.collection_select :assigned_to_id, User.all, :id, :name, include_blank: "Unassigned" %>
  </label>

  <label>
    Due Date
    <%= f.date_field :due_date %>
  </label>

  <label>
    Notes
    <%= f.text_area :notes, rows: 4 %>
  </label>

  <div class="grid">
    <%= f.submit %>
    <%= link_to "Cancel", tasks_path, role: "button", class: "outline" %>
  </div>
<% end %>
